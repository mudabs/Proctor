{% extends 'base.html' %}

{% block title %} Courses {% endblock %}

{% block Page %}
{%for course in courses %}
>{{course.courseTitle}}
{%endfor%}
{%endblock%}

{% block body %}

<div class="row">
    <div class="col-md-2" style="position: relative; left: 0%; ">
        <div class="card">
            <div class="card-header" style="background-color:#f8b739; color: white;">
                Lecturers
            </div>
            {%for course in courses %}
            {%for user in users %}
            {%if course.lecturerId == user.id%}


            <ul class="list-group list-group-flush">
                <li class="list-group-item">{{user.name}}</li>
            </ul>

            {%endif%}
            {%endfor%}
            {%endfor%}

        </div>
        <br>
        <div class="card">
            <div class="card-header" style="background-color:#343a40; color: white;">
                Classmates
            </div>
            {%if enrollment%}
            {%for enrollmen in enrollment %}
            {%for user in users %}
            {%if enrollmen.user_id == user.id%}


            <ul class="list-group list-group-flush">
                <li class="list-group-item">{{user.name}}</li>
            </ul>

            {%endif%}
            {%endfor%}
            {%endfor%}
            {%else%}
            <ul class="list-group list-group-flush">
                <li class="list-group-item">No Students yet</li>
            </ul>
            {%endif%}
        </div>
    </div>
    <div class="col-md-7 offset-md-1 " style="margin-left: 0px;">
        <div class="card rounded" style="width: 100%; height: 70%;">
            <div class=" card-header" style="height:60%">
                {%for course in courses%}
                <h1 style="padding-top: 10px">{{course.courseTitle}}</h1>
                {%endfor%}
            </div>

        </div>
        <br>
        <a href="#">
            <div class="card rounded shadow-sm">



                {%for q in allquizes%}
                <ul class="list-group list-group-flush">

                    <li class="list-group-item">
                        <a href="{{ url_for('userResults', quizId=q.id) }}">
                            <h3 style="text-align: center;">{{q.topic}}</h3>
                            <h4>Completed</h4> 
                        </a>
                    </li>

                </ul>
                {%endfor%}


            </div>
        </a>

    </div>

    <div class="col-md-2 offset-md-1" style="padding-left: 0%; margin-left: 15px;">
        <div class=" card rounded" style="width: 100%; height: 70%;">
            <h3 class="card-header">
                Upcoming Work
            </h3>
            {%for q in quizes%}
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                    <h4 style="text-align: center;">{{q.topic}}</h4>
                    <!-- <a href="{{url_for('takeQuiz',quizId=q.id)}}" onclick="return confirm('Are You Sure You wante to Begin Quiz Seeison ?')"> <h5 style="text-align: center;"><i class="fa-solid fa-calendar"></i> {{q.date}}</h5></a> -->
                    <a href="" data-bs-toggle="modal" data-bs-target="#quizModal-{{ q.id }}">
                        <h5 style="text-align: center;"><i class="fa-solid fa-calendar"></i>
                            {{q.date.strftime("%Y-%m-%d")}}
                        </h5>
                        <h5 style="text-align: center;"><i class="fa-solid fa-clock"></i> {{q.date.strftime("%H-%m")}}
                        </h5>
                    </a>
                </li>
            </ul>
            {%endfor%}
        </div>



        {%for q in quizes%}
        <div class="modal fade" id="quizModal-{{ q.id }}" tabindex="-1" aria-labelledby="quizModalLabel"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="quizModalLabel">Start Quiz</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to begin the quiz session?</p>
                        <a href="{{ url_for('setTimer', quizId=q.id) }}" class="btn btn-primary">Start Quiz</a>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>














        {%endfor%}

    </div>

</div>
</div>

{% endblock %}